{"ast":null,"code":"import _slicedToArray from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import ReactPlayer from'react-player';import{useSelector,useDispatch}from'react-redux';import ReactAudioPlayer from'react-audio-player';import{CgCloseR}from\"react-icons/cg\";import Moveable from\"react-moveable\";import{Badge}from'react-bootstrap';import{ImMusic}from\"react-icons/im\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Player=function Player(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),closePlayer=_useState2[0],setClosePlayer=_useState2[1];// const [showPlayer, setShowPlayer] = useState(null)\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),frame=_useState4[0],setFrame=_useState4[1];var currentSong=useSelector(function(state){return state.music.current_song;});// console.log(currentSong)\nvar handleClosePlayer=function handleClosePlayer(){setClosePlayer(true);};// const handleShowPlayer = () => {\n//     setShowPlayer(true)\n// }\nuseEffect(function(){setFrame({translate:[0,0]});setClosePlayer(false);},[]);console.log(closePlayer);return/*#__PURE__*/_jsxs(\"div\",{className:closePlayer?'hidden':'block',children:[/*#__PURE__*/_jsxs(\"div\",{className:currentSong===null?'hidden':'fixed-bottom flex justify-center ',children:[/*#__PURE__*/_jsxs(\"div\",{className:'flex justify-evenly target opacity-80 bg-pink-800 align-items-center py-1 rounded-full',children:[/*#__PURE__*/_jsxs(\"div\",{className:currentSong===null?'hidden':'flex align-items-center',children:[/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-full mx-2\",src:currentSong===null||currentSong===void 0?void 0:currentSong.artist.picture,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\" text-gray-200 mx-4\",children:currentSong===null||currentSong===void 0?void 0:currentSong.title_short}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-auto text-sm text-gray-200\",children:/*#__PURE__*/_jsxs(\"i\",{children:[\"- \",currentSong===null||currentSong===void 0?void 0:currentSong.artist.name]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:currentSong===null?'hidden':'mx-5',children:/*#__PURE__*/_jsx(ReactAudioPlayer,{src:currentSong===null||currentSong===void 0?void 0:currentSong.preview,autoPlay:true,controls:true,className:\"mx-auto text-blue-600\",loop:true})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Badge,{pill:true,onClick:function onClick(){return handleClosePlayer();},className:\" bg-pink-900 cursor-pointer  \",children:[\"Hide Player \",/*#__PURE__*/_jsx(ImMusic,{})]})})]}),/*#__PURE__*/_jsx(Moveable,{target:document.querySelector(\".target\"),draggable:true,throttleDrag:0,onDragStart:function onDragStart(_ref){var set=_ref.set;set(frame.translate);},onDrag:function onDrag(_ref2){var target=_ref2.target,beforeTranslate=_ref2.beforeTranslate;frame.translate=beforeTranslate;target.style.transform=\"translate(\".concat(beforeTranslate[0],\"px, \").concat(beforeTranslate[1],\"px)\");},onDragEnd:function onDragEnd(_ref3){var target=_ref3.target,isDrag=_ref3.isDrag,clientX=_ref3.clientX,clientY=_ref3.clientY;console.log(\"onDragEnd\",target,isDrag);}})]});};export default Player;","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/src/components/Music/Player.jsx"],"names":["React","useEffect","useState","ReactPlayer","useSelector","useDispatch","ReactAudioPlayer","CgCloseR","Moveable","Badge","ImMusic","Player","closePlayer","setClosePlayer","frame","setFrame","currentSong","state","music","current_song","handleClosePlayer","translate","console","log","artist","picture","title_short","name","preview","document","querySelector","set","target","beforeTranslate","style","transform","isDrag","clientX","clientY"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport ReactPlayer from 'react-player'\nimport { useSelector, useDispatch } from 'react-redux'\nimport ReactAudioPlayer from 'react-audio-player';\nimport { CgCloseR } from \"react-icons/cg\";\nimport Moveable from \"react-moveable\";\nimport { Badge } from 'react-bootstrap';\nimport { ImMusic } from \"react-icons/im\";\n\n\n\n\nconst Player = () => {\n\n    const [closePlayer, setClosePlayer] = useState(null)\n    // const [showPlayer, setShowPlayer] = useState(null)\n\n    const [frame, setFrame] = useState({})\n\n\n    const currentSong = useSelector(state => state.music.current_song)\n    // console.log(currentSong)\n\n\n    const handleClosePlayer = () => {\n        setClosePlayer(true)\n    }\n\n    // const handleShowPlayer = () => {\n    //     setShowPlayer(true)\n    // }\n\n    useEffect(() => {\n        setFrame({\n            translate: [0, 0]\n        })\n        setClosePlayer(false)\n    }, [])\n\n\n\n\n    console.log(closePlayer)\n\n\n    return (\n\n        <div className={closePlayer ? 'hidden' : 'block'}>\n\n            <div className={currentSong === null ? 'hidden' : 'fixed-bottom flex justify-center '} >\n                <div className={'flex justify-evenly target opacity-80 bg-pink-800 align-items-center py-1 rounded-full'}>\n\n                    <div className={currentSong === null ? 'hidden' : 'flex align-items-center'}>\n                        <img className=\"h-10 w-10 rounded-full mx-2\" src={currentSong?.artist.picture} alt=\"\" />\n                        <div className='flex'>\n                            <h6 className=' text-gray-200 mx-4'>{currentSong?.title_short}</h6>\n                            <span className='mx-auto text-sm text-gray-200'><i>- {currentSong?.artist.name}</i></span>\n                        </div>\n                    </div>\n                    <div className={currentSong === null ? 'hidden' : 'mx-5'}>\n\n                        <ReactAudioPlayer\n                            src={currentSong?.preview}\n                            autoPlay\n                            controls\n                            className=\"mx-auto text-blue-600\"\n                            loop={true}\n\n                        />\n                    </div>\n                </div>\n\n\n\n                {/* <div >\n                    <Badge pill onClick={() => handleShowPlayer()} className={\" bg-pink-900 cursor-pointer\"}>Show Player <ImMusic /></Badge>\n\n                </div> */}\n\n                <div >\n                    <Badge pill onClick={() => handleClosePlayer()} className={\" bg-pink-900 cursor-pointer  \"}>Hide Player <ImMusic /></Badge>\n\n                </div>\n\n\n\n\n\n\n\n\n            </div>\n\n            <Moveable\n                target={document.querySelector(\".target\")}\n                draggable={true}\n                throttleDrag={0}\n                onDragStart={({ set }) => {\n                    set(frame.translate);\n                }}\n                onDrag={({ target, beforeTranslate }) => {\n                    frame.translate = beforeTranslate;\n                    target.style.transform\n                        = `translate(${beforeTranslate[0]}px, ${beforeTranslate[1]}px)`;\n                }}\n                onDragEnd={({ target, isDrag, clientX, clientY }) => {\n                    console.log(\"onDragEnd\", target, isDrag);\n                }}\n            />\n\n\n\n\n\n\n\n        </div>\n\n    )\n}\n\nexport default Player\n"]},"metadata":{},"sourceType":"module"}