{"ast":null,"code":"import _toConsumableArray from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect}from'react';import{FiPlusCircle}from\"react-icons/fi\";import{useSelector,useDispatch}from'react-redux';import{fetchUsers}from'../../redux/actions';import{Container,Row,Col,Spinner}from'react-bootstrap';import{addFollowers,removeFollowers}from'../../redux/actions';import{Link,withRouter}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FollowNewUsers=function FollowNewUsers(){var dispatch=useDispatch();var allUsers=useSelector(function(state){return state.users.users;});var currentLoginUser=useSelector(function(state){return state.users.getcurrentuser;});// console.log(allUsers)\nvar copyOfAllUsers=_toConsumableArray(allUsers);var newUsersToFollow=copyOfAllUsers.filter(function(user){return user.id!==currentLoginUser.id;});// console.log(copyOfAllUsers, currentLoginUser)\n// const loading = useSelector(state => state.posts.loading)\nvar myAddedFollowers=useSelector(function(state){return state.users.following;});var followerUserId=myAddedFollowers===null||myAddedFollowers===void 0?void 0:myAddedFollowers.map(function(user){return user.id;});console.log(myAddedFollowers);var totalUsers=function totalUsers(){return allUsers.length;};useEffect(function(){dispatch(fetchUsers());totalUsers();},[totalUsers()]);return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"  flex flex-wrap mb-5 p-2 gap-4 text-sm bg-gray-900 w-screen h-100  flex-col \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-light  flex justify-center align-items-center md:text-xs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" text-lg\",children:/*#__PURE__*/_jsx(FiPlusCircle,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2 text-lg\",children:\"Follow ?\"})]}),//  loading\n//  ? (<Spinner animation=\"border\" variant=\"success\" />)\n//  :\nnewUsersToFollow===null||newUsersToFollow===void 0?void 0:newUsersToFollow.slice(0,5).map(function(user){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:(followerUserId===null||followerUserId===void 0?void 0:followerUserId.includes(user.id))?'hidden':' md:text-xs md:flex-col  relative  ',children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -inset-0.5 opacity-50 bg-blue-600 rounded-lg blur-xl  \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between bg-gray-900  align-items-center rounded-lg  border-1 border-indigo-600  text-center text-gray-300  leading-none p-2 relative  \",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(user.id),children:/*#__PURE__*/_jsx(\"div\",{className:\" cursor-pointer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-full \",src:user.image,alt:\"\"})})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(\"div\",{className:\" cursor-pointer text-sm \",children:/*#__PURE__*/_jsx(\"span\",{className:\" \",children:user.firstName})})}),/*#__PURE__*/_jsx(Col,{md:3,className:\"mx-5\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return dispatch(addFollowers(user));},className:\" cursor-pointer text-2xl hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(FiPlusCircle,{})})})})]})]})},user.id);})]})})});};export default withRouter(FollowNewUsers);","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/src/components/Feeds/FollowNewUsers.jsx"],"names":["React","useState","useEffect","FiPlusCircle","useSelector","useDispatch","fetchUsers","Container","Row","Col","Spinner","addFollowers","removeFollowers","Link","withRouter","FollowNewUsers","dispatch","allUsers","state","users","currentLoginUser","getcurrentuser","copyOfAllUsers","newUsersToFollow","filter","user","id","myAddedFollowers","following","followerUserId","map","console","log","totalUsers","length","slice","includes","image","firstName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { FiPlusCircle } from \"react-icons/fi\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchUsers } from '../../redux/actions'\nimport { Container, Row, Col, Spinner } from 'react-bootstrap'\nimport { addFollowers, removeFollowers } from '../../redux/actions'\nimport { Link, withRouter } from 'react-router-dom'\n\n\n\nconst FollowNewUsers = () => {\n\n\n\n    const dispatch = useDispatch()\n\n    const allUsers = useSelector(state => state.users.users)\n    const currentLoginUser = useSelector(state => state.users.getcurrentuser)\n    // console.log(allUsers)\n\n    const copyOfAllUsers = [...allUsers]\n    const newUsersToFollow = copyOfAllUsers.filter(user => user.id !== currentLoginUser.id)\n\n\n\n    // console.log(copyOfAllUsers, currentLoginUser)\n\n    // const loading = useSelector(state => state.posts.loading)\n\n\n    const myAddedFollowers = useSelector(state => state.users.following)\n    const followerUserId = myAddedFollowers?.map(user => user.id)\n\n    console.log(myAddedFollowers)\n\n    const totalUsers = () => {\n        return allUsers.length\n    }\n\n\n\n    useEffect(() => {\n        dispatch(fetchUsers())\n        totalUsers()\n    }, [totalUsers()])\n\n    return (\n        <Container fluid>\n            <Row>\n\n                <div className='  flex flex-wrap mb-5 p-2 gap-4 text-sm bg-gray-900 w-screen h-100  flex-col '>\n                    <div className='text-light  flex justify-center align-items-center md:text-xs'><div className=' text-lg'><FiPlusCircle /></div><span className='mx-2 text-lg'>Follow ?</span></div>\n                    {\n                        //  loading\n                        //  ? (<Spinner animation=\"border\" variant=\"success\" />)\n                        //  :\n                        newUsersToFollow?.slice(0, 5).map(user => (\n                            <div key={user.id}>\n                                <div className={followerUserId?.includes(user.id) ? 'hidden' : ' md:text-xs md:flex-col  relative  '}>\n                                    <div className='absolute -inset-0.5 opacity-50 bg-blue-600 rounded-lg blur-xl  '></div>\n                                    <div className='flex justify-between bg-gray-900  align-items-center rounded-lg  border-1 border-indigo-600  text-center text-gray-300  leading-none p-2 relative  '>\n\n                                        <Col md={3}>\n                                            <Link to={`/profile/${user.id}`}>\n                                                <div className=' cursor-pointer'><img className='h-10 w-10 rounded-full ' src={user.image} alt=\"\" /></div>\n                                            </Link>\n                                        </Col>\n                                        <Col md={3}>\n                                            <div className=' cursor-pointer text-sm '><span className=' '>{user.firstName}</span></div>\n\n                                        </Col>\n                                        <Col md={3} className='mx-5'>\n                                            <div onClick={() => dispatch(addFollowers(user))} className=' cursor-pointer text-2xl hover:text-gray-500'><span>< FiPlusCircle /></span></div>\n\n                                        </Col>\n\n\n                                    </div>\n                                </div>\n\n\n                            </div>))\n                    }\n                </div>\n            </Row>\n        </Container>\n    )\n}\n\nexport default withRouter(FollowNewUsers)\n"]},"metadata":{},"sourceType":"module"}