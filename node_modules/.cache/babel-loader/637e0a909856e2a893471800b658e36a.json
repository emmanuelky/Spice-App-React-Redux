{"ast":null,"code":"import _regeneratorRuntime from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Formik,Field,Form}from'formik';import{addUser,currentUser}from'../../redux/actions';import{useSelector,useDispatch}from'react-redux';import{FcAddImage}from\"react-icons/fc\";import{v4 as uuidv4}from'uuid';import{format}from'date-fns';import{Button}from'react-bootstrap';import{AiOutlineDingding}from\"react-icons/ai\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(_ref){var history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];console.log(image);var uploadImage=function uploadImage(){var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"emmanuelspice\");data.append(\"cloud_name\",\"emmanuelky\");fetch(\"https://api.cloudinary.com/v1_1/emmanuelky/image/upload\",{method:\"post\",body:data}).then(function(resp){return resp.json();}).then(function(data){console.log(data);setUrl(data.url);}).catch(function(err){return console.log(err);});};useEffect(function(){uploadImage();},[image.length]);var dispatch=useDispatch();var ID=uuidv4();var currentDate=format(new Date(),'HH:mm b');return/*#__PURE__*/_jsxs(\"div\",{className:\" flex flex-col align-items-center py-5 bg-red-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-10 mt-5 text-light align-self-center text-3xl border-t-2 border-b-2 border-dashed p-2\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"flex text-7xl\",children:[\" SpIcE \",/*#__PURE__*/_jsx(AiOutlineDingding,{className:\" text-blue-700 \"})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-blue-700\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"img\",{className:image===''?'hidden':\"w-20 h-20 rounded-full my-4\",src:url}),/*#__PURE__*/_jsx(Formik,{initialValues:{id:ID,firstName:'',lastName:'',email:'',username:'',password:'',image:'https://media-exp1.licdn.com/dms/image/C5603AQH8KTlE7RHqtA/profile-displayphoto-shrink_800_800/0/1621361354079?e=1639008000&v=beta&t=6q6JsOr7bMZ7niXehj1uluDJQVSVQga03xg2AlxsoBk',bio:'',city:'',createdAt:currentDate,updatedAt:currentDate,following:[],followers:[]},onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(r){return setTimeout(r,500);});case 2:alert(JSON.stringify(values,null,2));dispatch(addUser(values));dispatch(currentUser(values));// uploadImage()\nhistory.push('/');case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:/*#__PURE__*/_jsxs(Form,{className:\"flex flex-col  \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-2 \",children:/*#__PURE__*/_jsx(Field,{id:\"firstName\",name:\"firstName\",placeholder:\"first name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{id:\"lastName\",name:\"lastName\",placeholder:\"last name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{id:\"email\",name:\"email\",placeholder:\"email\",type:\"email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{id:\"UserName\",name:\"username\",placeholder:\"username\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{type:\"password\",id:\"password\",name:\"password\",placeholder:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"password\",name:\"image url\",placeholder:\"img url\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{id:\"bio\",name:\"bio\",placeholder:\"about you...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(Field,{id:\"city\",name:\"city\",placeholder:\"city\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",onClick:function onClick(){return uploadImage();},className:\"\",children:\"Sign up\"})]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"mx-3 my-10 \",children:[\"You already have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),\" \"]})]});};export default SignUp;","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/src/components/Feeds/SignUp.jsx"],"names":["React","useEffect","useState","Formik","Field","Form","addUser","currentUser","useSelector","useDispatch","FcAddImage","v4","uuidv4","format","Button","AiOutlineDingding","Link","SignUp","history","image","setImage","url","setUrl","console","log","uploadImage","data","FormData","append","fetch","method","body","then","resp","json","catch","err","length","dispatch","ID","currentDate","Date","id","firstName","lastName","email","username","password","bio","city","createdAt","updatedAt","following","followers","values","Promise","r","setTimeout","alert","JSON","stringify","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Formik, Field, Form } from 'formik';\nimport { addUser, currentUser } from '../../redux/actions'\nimport { useSelector, useDispatch, } from 'react-redux'\nimport { FcAddImage } from \"react-icons/fc\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { format } from 'date-fns'\nimport { Button } from 'react-bootstrap'\nimport { AiOutlineDingding } from \"react-icons/ai\";\nimport { Link } from 'react-router-dom'\n\n\n\n\n\nconst SignUp = ({ history }) => {\n\n    const [image, setImage] = useState(\"\")\n    const [url, setUrl] = useState(\"\")\n\n\n\n    console.log(image)\n\n    const uploadImage = () => {\n        const data = new FormData()\n        data.append(\"file\", image)\n        data.append(\"upload_preset\", \"emmanuelspice\")\n        data.append(\"cloud_name\", \"emmanuelky\")\n        fetch(\"https://api.cloudinary.com/v1_1/emmanuelky/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n            .then(resp => resp.json())\n            .then(data => {\n                console.log(data)\n                setUrl(data.url)\n\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    useEffect(() => {\n        uploadImage()\n    }, [image.length])\n\n    const dispatch = useDispatch()\n\n\n    const ID = uuidv4()\n    const currentDate = format(new Date(), 'HH:mm b')\n\n\n\n\n    return (\n        <div className=' flex flex-col align-items-center py-5 bg-red-300'>\n            <div className=\"mb-10 mt-5 text-light align-self-center text-3xl border-t-2 border-b-2 border-dashed p-2\">\n                <h1 className=\"flex text-7xl\"> SpIcE <AiOutlineDingding className=\" text-blue-700 \" /></h1>\n\n            </div>\n            <h1 className='text-blue-700'>Sign Up</h1>\n            {\n                <img className={image === '' ? 'hidden' : \"w-20 h-20 rounded-full my-4\"} src={url} />\n            }\n            <Formik\n                initialValues={{\n                    id: ID,\n                    firstName: '',\n                    lastName: '',\n                    email: '',\n                    username: '',\n                    password: '',\n                    image: 'https://media-exp1.licdn.com/dms/image/C5603AQH8KTlE7RHqtA/profile-displayphoto-shrink_800_800/0/1621361354079?e=1639008000&v=beta&t=6q6JsOr7bMZ7niXehj1uluDJQVSVQga03xg2AlxsoBk',\n                    bio: '',\n                    city: '',\n                    createdAt: currentDate,\n                    updatedAt: currentDate,\n                    following: [],\n                    followers: [],\n                }}\n                onSubmit={async (values) => {\n                    await new Promise((r) => setTimeout(r, 500));\n                    alert(JSON.stringify(values, null, 2));\n                    dispatch(addUser(values))\n                    dispatch(currentUser(values))\n                    // uploadImage()\n                    history.push('/')\n\n                }}\n\n            >\n                <Form className='flex flex-col  '>\n                    <div className='my-2 '>\n\n                        <Field id=\"firstName\" name=\"firstName\" placeholder=\"first name\" />\n\n                    </div>\n                    <div className='my-2'>\n                        <Field id=\"lastName\" name=\"lastName\" placeholder=\"last name\" />\n                    </div>\n                    <div className='my-2'>\n                        <Field\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"email\"\n                            type=\"email\"\n                        />\n                    </div>\n                    <div className='my-2'>\n                        <Field id=\"UserName\" name=\"username\" placeholder=\"username\" />\n                    </div>\n                    <div className='my-2'>\n                        <Field type='password' id=\"password\" name=\"password\" placeholder=\"password\" />\n                    </div>\n                    <div className='my-2'>\n                        <Field type='text' id=\"password\" name=\"image url\" placeholder=\"img url\" />\n\n                        {/* <label for=\"files\" className=\"btn text-lg\"><FcAddImage />  Upload Profile Image</label> */}\n                        {/* <input onClick={() => uploadImage()} onChange={(e) => setImage(e.target.files[0])} id=\"files\" className=\"\" type=\"file\" /> */}\n                    </div>\n                    <div className='my-2'>\n                        <Field id=\"bio\" name=\"bio\" placeholder=\"about you...\" />\n                    </div>\n                    <div className='my-2'>\n                        <Field id=\"city\" name=\"city\" placeholder=\"city\" />\n                    </div>\n                    <Button type=\"submit\" onClick={() => uploadImage()} className=''>Sign up</Button>\n                </Form>\n            </Formik>\n\n            <span className=\"mx-3 my-10 \">You already have an account?\n                <Link to=\"/login\">Login</Link> </span>\n        </div>\n    )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}