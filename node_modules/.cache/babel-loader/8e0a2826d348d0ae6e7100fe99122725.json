{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{FcLike}from\"react-icons/fc\";import{AiOutlineHeart}from\"react-icons/ai\";import{addLikes,removeLikes}from'../../redux/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentPhotoSection=function CommentPhotoSection(){var dispatch=useDispatch();var postLikes=useSelector(function(state){return state.posts.likes;});var singlePostComment=useSelector(function(state){return state.posts.single_post_comment;});// console.log(singlePostComment)\nvar handleLikesCount=function handleLikesCount(post){var likesCount=postLikes.filter(function(p){return p.id===(post===null||post===void 0?void 0:post.id);}).length;likesCounted(likesCount);return likesCount;};var likesCounted=function likesCounted(likesCount){return likesCount;};var handleLikeToggle=function handleLikeToggle(e,post){return postLikes.find(function(p){return p.id===post.id;})?dispatch(removeLikes(post.id)):dispatch(addLikes(post));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col my-3 bg-gray-900 p-4 text-gray-300 border rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex  my-2 justify-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"w-10 h-10 rounded-full my-1 \",src:singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.user.image,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mb-2\",children:[/*#__PURE__*/_jsxs(\"i\",{children:[\"@\",singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.createdAt]}),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid h-60 w-60 my-2 rounded-lg\",src:singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.postImage,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center my-4\",children:/*#__PURE__*/_jsx(\"div\",{children:singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.text})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return handleLikeToggle(e.target.value,singlePostComment);},className:\"text-sm flex align-items-center cursor-pointer \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-1 text-lg\",children:postLikes.find(function(p){return p.id===(singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.id);})?/*#__PURE__*/_jsx(FcLike,{}):/*#__PURE__*/_jsx(AiOutlineHeart,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-1\",children:handleLikesCount(singlePostComment)})]})})]})},singlePostComment===null||singlePostComment===void 0?void 0:singlePostComment.id)});};export default CommentPhotoSection;","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/src/components/Feeds/CommentPhotoSection.jsx"],"names":["React","useEffect","useState","useSelector","useDispatch","FcLike","AiOutlineHeart","addLikes","removeLikes","CommentPhotoSection","dispatch","postLikes","state","posts","likes","singlePostComment","single_post_comment","handleLikesCount","post","likesCount","filter","p","id","length","likesCounted","handleLikeToggle","e","find","user","image","createdAt","postImage","text","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { FcLike } from \"react-icons/fc\";\nimport { AiOutlineHeart } from \"react-icons/ai\";\nimport { addLikes, removeLikes } from '../../redux/actions'\n\n\n\nconst CommentPhotoSection = () => {\n\n    const dispatch = useDispatch()\n\n    const postLikes = useSelector(state => state.posts.likes)\n    const singlePostComment = useSelector(state => state.posts.single_post_comment)\n    // console.log(singlePostComment)\n\n    const handleLikesCount = (post) => {\n        const likesCount = postLikes.filter(p => p.id === post?.id).length;\n        likesCounted(likesCount)\n        return likesCount\n    }\n\n    const likesCounted = (likesCount) => {\n        return likesCount\n    }\n\n    const handleLikeToggle = (e, post) => {\n        return postLikes.find(p => p.id === post.id) ? dispatch(removeLikes(post.id)) : (dispatch(addLikes(post)))\n\n    }\n\n\n\n\n    return (\n        <div>\n            {\n                <div key={singlePostComment?.id}>\n                    <div className=\"flex flex-col my-3 bg-gray-900 p-4 text-gray-300 border rounded\">\n                        <div className='flex  my-2 justify-between align-items-center'>\n\n                            <div><img className=\"w-10 h-10 rounded-full my-1 \" src={singlePostComment?.user.image} alt=\"\" /></div>\n                            <div className=\"text-xs text-gray-400 mb-2\"><i >@{singlePostComment?.createdAt}</i> </div>\n                        </div>\n                        <div className=\"flex justify-center\"><img className=\"img-fluid h-60 w-60 my-2 rounded-lg\" src={singlePostComment?.postImage} alt=\"\" /></div>\n                        <div className=\"flex justify-center my-4\">\n                            <div>{singlePostComment?.text}</div>\n\n                        </div>\n                        <div>\n                            <div onClick={(e) => handleLikeToggle(e.target.value, singlePostComment)} className=\"text-sm flex align-items-center cursor-pointer \">\n                                <div className=\"mx-1 text-lg\" >\n                                    {postLikes.find(p => p.id === singlePostComment?.id) ? < FcLike /> : < AiOutlineHeart />}\n                                </div>\n                                <div className=\"mx-1\" >\n                                    {handleLikesCount(singlePostComment)}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default CommentPhotoSection\n"]},"metadata":{},"sourceType":"module"}