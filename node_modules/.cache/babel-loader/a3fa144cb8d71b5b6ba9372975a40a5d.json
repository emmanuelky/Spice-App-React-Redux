{"ast":null,"code":"var _jsxFileName = \"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/src/components/Music/MusicPlayer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { findDOMNode } from \"react-dom\"; // import div from \"@material-ui/core/div\";\n// import div from \"@material-ui/core/div\";\n// import div from \"@material-ui/core/div\";\n// import Container from \"@material-ui/core/Container\";\n\nimport ReactPlayer from \"react-player\"; // import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import Slider from \"@material-ui/core/Slider\";\n// import Tooltip from \"@material-ui/core/Tooltip\";\n// import Grid from \"@material-ui/core/Grid\";\n// import Paper from \"@material-ui/core/Paper\";\n// import VolumeUp from \"@material-ui/icons/VolumeUp\";\n// import VolumeDown from \"@material-ui/icons/VolumeDown\";\n// import VolumeMute from \"@material-ui/icons/VolumeOff\";\n// import FullScreen from \"@material-ui/icons/Fullscreen\";\n// import Popover from \"@material-ui/core/Popover\";\n// import screenful from \"screenfull\";\n\nimport Controls from \"./Controls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  playerWrapper: {\n    width: \"100%\",\n    position: \"relative\" // \"&:hover\": {\n    //   \"& $controlsWrapper\": {\n    //     visibility: \"visible\",\n    //   },\n    // },\n\n  },\n  controlsWrapper: {\n    visibility: \"hidden\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: \"rgba(0,0,0,0.4)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\"\n  },\n  topControls: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(2)\n  },\n  middleControls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bottomWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    // background: \"rgba(0,0,0,0.6)\",\n    // height: 60,\n    padding: theme.spacing(2)\n  },\n  bottomControls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\" // height:40,\n\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  controlIcons: {\n    color: \"#777\",\n    fontSize: 50,\n    transform: \"scale(0.9)\",\n    \"&:hover\": {\n      color: \"#fff\",\n      transform: \"scale(1)\"\n    }\n  },\n  bottomIcons: {\n    color: \"#999\",\n    \"&:hover\": {\n      color: \"#fff\"\n    }\n  },\n  volumeSlider: {\n    width: 100\n  }\n}));\nconst PrettoSlider = withStyles({\n  root: {\n    height: 8\n  },\n  thumb: {\n    height: 24,\n    width: 24,\n    backgroundColor: \"#fff\",\n    border: \"2px solid currentColor\",\n    marginTop: -8,\n    marginLeft: -12,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"inherit\"\n    }\n  },\n  active: {},\n  valueLabel: {\n    left: \"calc(-50% + 4px)\"\n  },\n  track: {\n    height: 8,\n    borderRadius: 4\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4\n  }\n})(Slider);\n\nfunction ValueLabelComponent(props) {\n  const {\n    children,\n    open,\n    value\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    open: open,\n    enterTouchDelay: 0,\n    placement: \"top\",\n    title: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n}\n\n_c = ValueLabelComponent;\n\nconst format = seconds => {\n  if (isNaN(seconds)) {\n    return `00:00`;\n  }\n\n  const date = new Date(seconds * 1000);\n  const hh = date.getUTCHours();\n  const mm = date.getUTCMinutes();\n  const ss = date.getUTCSeconds().toString().padStart(2, \"0\");\n\n  if (hh) {\n    return `${hh}:${mm.toString().padStart(2, \"0\")}:${ss}`;\n  }\n\n  return `${mm}:${ss}`;\n};\n\nlet count = 0;\n\nfunction MusicPlayer() {\n  _s();\n\n  const classes = useStyles();\n  const [showControls, setShowControls] = useState(false); // const [count, setCount] = useState(0);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [timeDisplayFormat, setTimeDisplayFormat] = React.useState(\"normal\");\n  const [bookmarks, setBookmarks] = useState([]);\n  const [state, setState] = useState({\n    pip: false,\n    playing: true,\n    controls: false,\n    light: false,\n    muted: true,\n    played: 0,\n    duration: 0,\n    playbackRate: 1.0,\n    volume: 1,\n    loop: false,\n    seeking: false\n  });\n  const playerRef = useRef(null);\n  const playerContainerRef = useRef(null);\n  const controlsRef = useRef(null);\n  const canvasRef = useRef(null);\n  const {\n    playing,\n    controls,\n    light,\n    muted,\n    loop,\n    playbackRate,\n    pip,\n    played,\n    seeking,\n    volume\n  } = state;\n\n  const handlePlayPause = () => {\n    setState({ ...state,\n      playing: !state.playing\n    });\n  };\n\n  const handleRewind = () => {\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() - 10);\n  };\n\n  const handleFastForward = () => {\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() + 10);\n  };\n\n  const handleProgress = changeState => {\n    if (count > 3) {\n      controlsRef.current.style.visibility = \"hidden\";\n      count = 0;\n    }\n\n    if (controlsRef.current.style.visibility == \"visible\") {\n      count += 1;\n    }\n\n    if (!state.seeking) {\n      setState({ ...state,\n        ...changeState\n      });\n    }\n  };\n\n  const handleSeekChange = (e, newValue) => {\n    console.log({\n      newValue\n    });\n    setState({ ...state,\n      played: parseFloat(newValue / 100)\n    });\n  };\n\n  const handleSeekMouseDown = e => {\n    setState({ ...state,\n      seeking: true\n    });\n  };\n\n  const handleSeekMouseUp = (e, newValue) => {\n    console.log({\n      value: e.target\n    });\n    setState({ ...state,\n      seeking: false\n    }); // console.log(sliderRef.current.value)\n\n    playerRef.current.seekTo(newValue / 100, \"fraction\");\n  };\n\n  const handleDuration = duration => {\n    setState({ ...state,\n      duration\n    });\n  };\n\n  const handleVolumeSeekDown = (e, newValue) => {\n    setState({ ...state,\n      seeking: false,\n      volume: parseFloat(newValue / 100)\n    });\n  };\n\n  const handleVolumeChange = (e, newValue) => {\n    // console.log(newValue);\n    setState({ ...state,\n      volume: parseFloat(newValue / 100),\n      muted: newValue === 0 ? true : false\n    });\n  };\n\n  const toggleFullScreen = () => {\n    screenful.toggle(playerContainerRef.current);\n  };\n\n  const handleMouseMove = () => {\n    console.log(\"mousemove\");\n    controlsRef.current.style.visibility = \"visible\";\n    count = 0;\n  };\n\n  const hanldeMouseLeave = () => {\n    controlsRef.current.style.visibility = \"hidden\";\n    count = 0;\n  };\n\n  const handleDisplayFormat = () => {\n    setTimeDisplayFormat(timeDisplayFormat == \"normal\" ? \"remaining\" : \"normal\");\n  };\n\n  const handlePlaybackRate = rate => {\n    setState({ ...state,\n      playbackRate: rate\n    });\n  };\n\n  const hanldeMute = () => {\n    setState({ ...state,\n      muted: !state.muted\n    });\n  };\n\n  const addBookmark = () => {\n    const canvas = canvasRef.current;\n    canvas.width = 160;\n    canvas.height = 90;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(playerRef.current.getInternalPlayer(), 0, 0, canvas.width, canvas.height);\n    const dataUri = canvas.toDataURL();\n    canvas.width = 0;\n    canvas.height = 0;\n    const bookmarksCopy = [...bookmarks];\n    bookmarksCopy.push({\n      time: playerRef.current.getCurrentTime(),\n      display: format(playerRef.current.getCurrentTime()),\n      image: dataUri\n    });\n    setBookmarks(bookmarksCopy);\n  };\n\n  const currentTime = playerRef && playerRef.current ? playerRef.current.getCurrentTime() : \"00:00\";\n  const duration = playerRef && playerRef.current ? playerRef.current.getDuration() : \"00:00\";\n  const elapsedTime = timeDisplayFormat == \"normal\" ? format(currentTime) : `-${format(duration - currentTime)}`;\n  const totalDuration = format(duration);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      position: \"fixed\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"React Video Player\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onMouseMove: handleMouseMove,\n        onMouseLeave: hanldeMouseLeave,\n        ref: playerContainerRef,\n        className: classes.playerWrapper,\n        children: [/*#__PURE__*/_jsxDEV(ReactPlayer, {\n          ref: playerRef,\n          width: \"100%\",\n          height: \"100%\",\n          url: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\",\n          pip: pip,\n          playing: playing,\n          controls: false,\n          light: light,\n          loop: loop,\n          playbackRate: playbackRate,\n          volume: volume,\n          muted: muted,\n          onProgress: handleProgress,\n          config: {\n            file: {\n              attributes: {\n                crossorigin: \"anonymous\"\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {\n          ref: controlsRef,\n          onSeek: handleSeekChange,\n          onSeekMouseDown: handleSeekMouseDown,\n          onSeekMouseUp: handleSeekMouseUp,\n          onDuration: handleDuration,\n          onRewind: handleRewind,\n          onPlayPause: handlePlayPause,\n          onFastForward: handleFastForward,\n          playing: playing,\n          played: played,\n          elapsedTime: elapsedTime,\n          totalDuration: totalDuration,\n          onMute: hanldeMute,\n          muted: muted,\n          onVolumeChange: handleVolumeChange,\n          onVolumeSeekDown: handleVolumeSeekDown,\n          onChangeDispayFormat: handleDisplayFormat,\n          playbackRate: playbackRate,\n          onPlaybackRateChange: handlePlaybackRate,\n          onToggleFullScreen: toggleFullScreen,\n          volume: volume,\n          onBookmark: addBookmark\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        style: {\n          marginTop: 20\n        },\n        spacing: 3,\n        children: bookmarks.map((bookmark, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            onClick: () => {\n              playerRef.current.seekTo(bookmark.time);\n              controlsRef.current.style.visibility = \"visible\";\n              setTimeout(() => {\n                controlsRef.current.style.visibility = \"hidden\";\n              }, 1000);\n            },\n            elevation: 3,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              crossOrigin: \"anonymous\",\n              src: bookmark.image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              variant: \"body2\",\n              align: \"center\",\n              children: [\"bookmark at \", bookmark.display]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MusicPlayer, \"/121himUpyxjJQ6fRrIatEZh+GI=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = MusicPlayer;\nexport default MusicPlayer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ValueLabelComponent\");\n$RefreshReg$(_c2, \"MusicPlayer\");","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/spice-app/src/components/Music/MusicPlayer.jsx"],"names":["React","useState","useRef","useEffect","findDOMNode","ReactPlayer","Controls","useStyles","makeStyles","theme","playerWrapper","width","position","controlsWrapper","visibility","top","left","right","bottom","background","display","flexDirection","justifyContent","topControls","padding","spacing","middleControls","alignItems","bottomWrapper","bottomControls","button","margin","controlIcons","color","fontSize","transform","bottomIcons","volumeSlider","PrettoSlider","withStyles","root","height","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","track","borderRadius","rail","Slider","ValueLabelComponent","props","children","open","value","format","seconds","isNaN","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","toString","padStart","count","MusicPlayer","classes","showControls","setShowControls","anchorEl","setAnchorEl","timeDisplayFormat","setTimeDisplayFormat","bookmarks","setBookmarks","state","setState","pip","playing","controls","light","muted","played","duration","playbackRate","volume","loop","seeking","playerRef","playerContainerRef","controlsRef","canvasRef","handlePlayPause","handleRewind","current","seekTo","getCurrentTime","handleFastForward","handleProgress","changeState","style","handleSeekChange","e","newValue","console","log","parseFloat","handleSeekMouseDown","handleSeekMouseUp","target","handleDuration","handleVolumeSeekDown","handleVolumeChange","toggleFullScreen","screenful","toggle","handleMouseMove","hanldeMouseLeave","handleDisplayFormat","handlePlaybackRate","rate","hanldeMute","addBookmark","canvas","ctx","getContext","drawImage","getInternalPlayer","dataUri","toDataURL","bookmarksCopy","push","time","image","currentTime","getDuration","elapsedTime","totalDuration","file","attributes","crossorigin","map","bookmark","index","setTimeout"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,WAAT,QAA4B,WAA5B,C,CAEA;AACA;AACA;AACA;;AACA,OAAOC,WAAP,MAAwB,cAAxB,C,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AAEA,MAAMC,SAAS,GAAGC,UAAU,CAAEC,KAAD,KAAY;AACrCC,EAAAA,aAAa,EAAE;AACXC,IAAAA,KAAK,EAAE,MADI;AAGXC,IAAAA,QAAQ,EAAE,UAHC,CAIX;AACA;AACA;AACA;AACA;;AARW,GADsB;AAYrCC,EAAAA,eAAe,EAAE;AACbC,IAAAA,UAAU,EAAE,QADC;AAEbF,IAAAA,QAAQ,EAAE,UAFG;AAGbG,IAAAA,GAAG,EAAE,CAHQ;AAIbC,IAAAA,IAAI,EAAE,CAJO;AAKbC,IAAAA,KAAK,EAAE,CALM;AAMbC,IAAAA,MAAM,EAAE,CANK;AAObC,IAAAA,UAAU,EAAE,iBAPC;AAQbC,IAAAA,OAAO,EAAE,MARI;AASbC,IAAAA,aAAa,EAAE,QATF;AAUbC,IAAAA,cAAc,EAAE;AAVH,GAZoB;AAwBrCC,EAAAA,WAAW,EAAE;AACTH,IAAAA,OAAO,EAAE,MADA;AAETE,IAAAA,cAAc,EAAE,UAFP;AAGTE,IAAAA,OAAO,EAAEf,KAAK,CAACgB,OAAN,CAAc,CAAd;AAHA,GAxBwB;AA6BrCC,EAAAA,cAAc,EAAE;AACZN,IAAAA,OAAO,EAAE,MADG;AAEZO,IAAAA,UAAU,EAAE,QAFA;AAGZL,IAAAA,cAAc,EAAE;AAHJ,GA7BqB;AAkCrCM,EAAAA,aAAa,EAAE;AACXR,IAAAA,OAAO,EAAE,MADE;AAEXC,IAAAA,aAAa,EAAE,QAFJ;AAIX;AACA;AACAG,IAAAA,OAAO,EAAEf,KAAK,CAACgB,OAAN,CAAc,CAAd;AANE,GAlCsB;AA2CrCI,EAAAA,cAAc,EAAE;AACZT,IAAAA,OAAO,EAAE,MADG;AAEZO,IAAAA,UAAU,EAAE,QAFA;AAGZL,IAAAA,cAAc,EAAE,eAHJ,CAIZ;;AAJY,GA3CqB;AAkDrCQ,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAEtB,KAAK,CAACgB,OAAN,CAAc,CAAd;AADJ,GAlD6B;AAqDrCO,EAAAA,YAAY,EAAE;AACVC,IAAAA,KAAK,EAAE,MADG;AAGVC,IAAAA,QAAQ,EAAE,EAHA;AAIVC,IAAAA,SAAS,EAAE,YAJD;AAKV,eAAW;AACPF,MAAAA,KAAK,EAAE,MADA;AAEPE,MAAAA,SAAS,EAAE;AAFJ;AALD,GArDuB;AAgErCC,EAAAA,WAAW,EAAE;AACTH,IAAAA,KAAK,EAAE,MADE;AAET,eAAW;AACPA,MAAAA,KAAK,EAAE;AADA;AAFF,GAhEwB;AAuErCI,EAAAA,YAAY,EAAE;AACV1B,IAAAA,KAAK,EAAE;AADG;AAvEuB,CAAZ,CAAD,CAA5B;AA4EA,MAAM2B,YAAY,GAAGC,UAAU,CAAC;AAC5BC,EAAAA,IAAI,EAAE;AACFC,IAAAA,MAAM,EAAE;AADN,GADsB;AAI5BC,EAAAA,KAAK,EAAE;AACHD,IAAAA,MAAM,EAAE,EADL;AAEH9B,IAAAA,KAAK,EAAE,EAFJ;AAGHgC,IAAAA,eAAe,EAAE,MAHd;AAIHC,IAAAA,MAAM,EAAE,wBAJL;AAKHC,IAAAA,SAAS,EAAE,CAAC,CALT;AAMHC,IAAAA,UAAU,EAAE,CAAC,EANV;AAOH,kCAA8B;AAC1BC,MAAAA,SAAS,EAAE;AADe;AAP3B,GAJqB;AAe5BC,EAAAA,MAAM,EAAE,EAfoB;AAgB5BC,EAAAA,UAAU,EAAE;AACRjC,IAAAA,IAAI,EAAE;AADE,GAhBgB;AAmB5BkC,EAAAA,KAAK,EAAE;AACHT,IAAAA,MAAM,EAAE,CADL;AAEHU,IAAAA,YAAY,EAAE;AAFX,GAnBqB;AAuB5BC,EAAAA,IAAI,EAAE;AACFX,IAAAA,MAAM,EAAE,CADN;AAEFU,IAAAA,YAAY,EAAE;AAFZ;AAvBsB,CAAD,CAAV,CA2BlBE,MA3BkB,CAArB;;AA6BA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAChC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,IAAZ;AAAkBC,IAAAA;AAAlB,MAA4BH,KAAlC;AAEA,sBACI,QAAC,OAAD;AAAS,IAAA,IAAI,EAAEE,IAAf;AAAqB,IAAA,eAAe,EAAE,CAAtC;AAAyC,IAAA,SAAS,EAAC,KAAnD;AAAyD,IAAA,KAAK,EAAEC,KAAhE;AAAA,cACKF;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;KARQF,mB;;AAUT,MAAMK,MAAM,GAAIC,OAAD,IAAa;AACxB,MAAIC,KAAK,CAACD,OAAD,CAAT,EAAoB;AAChB,WAAQ,OAAR;AACH;;AACD,QAAME,IAAI,GAAG,IAAIC,IAAJ,CAASH,OAAO,GAAG,IAAnB,CAAb;AACA,QAAMI,EAAE,GAAGF,IAAI,CAACG,WAAL,EAAX;AACA,QAAMC,EAAE,GAAGJ,IAAI,CAACK,aAAL,EAAX;AACA,QAAMC,EAAE,GAAGN,IAAI,CAACO,aAAL,GAAqBC,QAArB,GAAgCC,QAAhC,CAAyC,CAAzC,EAA4C,GAA5C,CAAX;;AACA,MAAIP,EAAJ,EAAQ;AACJ,WAAQ,GAAEA,EAAG,IAAGE,EAAE,CAACI,QAAH,GAAcC,QAAd,CAAuB,CAAvB,EAA0B,GAA1B,CAA+B,IAAGH,EAAG,EAArD;AACH;;AACD,SAAQ,GAAEF,EAAG,IAAGE,EAAG,EAAnB;AACH,CAZD;;AAcA,IAAII,KAAK,GAAG,CAAZ;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAMC,OAAO,GAAGnE,SAAS,EAAzB;AACA,QAAM,CAACoE,YAAD,EAAeC,eAAf,IAAkC3E,QAAQ,CAAC,KAAD,CAAhD,CAFmB,CAGnB;;AACA,QAAM,CAAC4E,QAAD,EAAWC,WAAX,IAA0B9E,KAAK,CAACC,QAAN,CAAe,IAAf,CAAhC;AACA,QAAM,CAAC8E,iBAAD,EAAoBC,oBAApB,IAA4ChF,KAAK,CAACC,QAAN,CAAe,QAAf,CAAlD;AACA,QAAM,CAACgF,SAAD,EAAYC,YAAZ,IAA4BjF,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACkF,KAAD,EAAQC,QAAR,IAAoBnF,QAAQ,CAAC;AAC/BoF,IAAAA,GAAG,EAAE,KAD0B;AAE/BC,IAAAA,OAAO,EAAE,IAFsB;AAG/BC,IAAAA,QAAQ,EAAE,KAHqB;AAI/BC,IAAAA,KAAK,EAAE,KAJwB;AAM/BC,IAAAA,KAAK,EAAE,IANwB;AAO/BC,IAAAA,MAAM,EAAE,CAPuB;AAQ/BC,IAAAA,QAAQ,EAAE,CARqB;AAS/BC,IAAAA,YAAY,EAAE,GATiB;AAU/BC,IAAAA,MAAM,EAAE,CAVuB;AAW/BC,IAAAA,IAAI,EAAE,KAXyB;AAY/BC,IAAAA,OAAO,EAAE;AAZsB,GAAD,CAAlC;AAeA,QAAMC,SAAS,GAAG9F,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM+F,kBAAkB,GAAG/F,MAAM,CAAC,IAAD,CAAjC;AACA,QAAMgG,WAAW,GAAGhG,MAAM,CAAC,IAAD,CAA1B;AACA,QAAMiG,SAAS,GAAGjG,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM;AACFoF,IAAAA,OADE;AAEFC,IAAAA,QAFE;AAGFC,IAAAA,KAHE;AAKFC,IAAAA,KALE;AAMFK,IAAAA,IANE;AAOFF,IAAAA,YAPE;AAQFP,IAAAA,GARE;AASFK,IAAAA,MATE;AAUFK,IAAAA,OAVE;AAWFF,IAAAA;AAXE,MAYFV,KAZJ;;AAcA,QAAMiB,eAAe,GAAG,MAAM;AAC1BhB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYG,MAAAA,OAAO,EAAE,CAACH,KAAK,CAACG;AAA5B,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMe,YAAY,GAAG,MAAM;AACvBL,IAAAA,SAAS,CAACM,OAAV,CAAkBC,MAAlB,CAAyBP,SAAS,CAACM,OAAV,CAAkBE,cAAlB,KAAqC,EAA9D;AACH,GAFD;;AAIA,QAAMC,iBAAiB,GAAG,MAAM;AAC5BT,IAAAA,SAAS,CAACM,OAAV,CAAkBC,MAAlB,CAAyBP,SAAS,CAACM,OAAV,CAAkBE,cAAlB,KAAqC,EAA9D;AACH,GAFD;;AAIA,QAAME,cAAc,GAAIC,WAAD,IAAiB;AACpC,QAAInC,KAAK,GAAG,CAAZ,EAAe;AACX0B,MAAAA,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,GAAuC,QAAvC;AACA0D,MAAAA,KAAK,GAAG,CAAR;AACH;;AACD,QAAI0B,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,IAAwC,SAA5C,EAAuD;AACnD0D,MAAAA,KAAK,IAAI,CAAT;AACH;;AACD,QAAI,CAACW,KAAK,CAACY,OAAX,EAAoB;AAChBX,MAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAY,WAAGwB;AAAf,OAAD,CAAR;AACH;AACJ,GAXD;;AAaA,QAAME,gBAAgB,GAAG,CAACC,CAAD,EAAIC,QAAJ,KAAiB;AACtCC,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEF,MAAAA;AAAF,KAAZ;AACA3B,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYO,MAAAA,MAAM,EAAEwB,UAAU,CAACH,QAAQ,GAAG,GAAZ;AAA9B,KAAD,CAAR;AACH,GAHD;;AAKA,QAAMI,mBAAmB,GAAIL,CAAD,IAAO;AAC/B1B,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYY,MAAAA,OAAO,EAAE;AAArB,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMqB,iBAAiB,GAAG,CAACN,CAAD,EAAIC,QAAJ,KAAiB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEvD,MAAAA,KAAK,EAAEoD,CAAC,CAACO;AAAX,KAAZ;AACAjC,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYY,MAAAA,OAAO,EAAE;AAArB,KAAD,CAAR,CAFuC,CAGvC;;AACAC,IAAAA,SAAS,CAACM,OAAV,CAAkBC,MAAlB,CAAyBQ,QAAQ,GAAG,GAApC,EAAyC,UAAzC;AACH,GALD;;AAOA,QAAMO,cAAc,GAAI3B,QAAD,IAAc;AACjCP,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYQ,MAAAA;AAAZ,KAAD,CAAR;AACH,GAFD;;AAIA,QAAM4B,oBAAoB,GAAG,CAACT,CAAD,EAAIC,QAAJ,KAAiB;AAC1C3B,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYY,MAAAA,OAAO,EAAE,KAArB;AAA4BF,MAAAA,MAAM,EAAEqB,UAAU,CAACH,QAAQ,GAAG,GAAZ;AAA9C,KAAD,CAAR;AACH,GAFD;;AAGA,QAAMS,kBAAkB,GAAG,CAACV,CAAD,EAAIC,QAAJ,KAAiB;AACxC;AACA3B,IAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAELU,MAAAA,MAAM,EAAEqB,UAAU,CAACH,QAAQ,GAAG,GAAZ,CAFb;AAGLtB,MAAAA,KAAK,EAAEsB,QAAQ,KAAK,CAAb,GAAiB,IAAjB,GAAwB;AAH1B,KAAD,CAAR;AAKH,GAPD;;AASA,QAAMU,gBAAgB,GAAG,MAAM;AAC3BC,IAAAA,SAAS,CAACC,MAAV,CAAiB1B,kBAAkB,CAACK,OAApC;AACH,GAFD;;AAIA,QAAMsB,eAAe,GAAG,MAAM;AAC1BZ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAf,IAAAA,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,GAAuC,SAAvC;AACA0D,IAAAA,KAAK,GAAG,CAAR;AACH,GAJD;;AAMA,QAAMqD,gBAAgB,GAAG,MAAM;AAC3B3B,IAAAA,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,GAAuC,QAAvC;AACA0D,IAAAA,KAAK,GAAG,CAAR;AACH,GAHD;;AAKA,QAAMsD,mBAAmB,GAAG,MAAM;AAC9B9C,IAAAA,oBAAoB,CAChBD,iBAAiB,IAAI,QAArB,GAAgC,WAAhC,GAA8C,QAD9B,CAApB;AAGH,GAJD;;AAMA,QAAMgD,kBAAkB,GAAIC,IAAD,IAAU;AACjC5C,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYS,MAAAA,YAAY,EAAEoC;AAA1B,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACrB7C,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYM,MAAAA,KAAK,EAAE,CAACN,KAAK,CAACM;AAA1B,KAAD,CAAR;AACH,GAFD;;AAIA,QAAMyC,WAAW,GAAG,MAAM;AACtB,UAAMC,MAAM,GAAGhC,SAAS,CAACG,OAAzB;AACA6B,IAAAA,MAAM,CAACxH,KAAP,GAAe,GAAf;AACAwH,IAAAA,MAAM,CAAC1F,MAAP,GAAgB,EAAhB;AACA,UAAM2F,GAAG,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAZ;AAEAD,IAAAA,GAAG,CAACE,SAAJ,CACItC,SAAS,CAACM,OAAV,CAAkBiC,iBAAlB,EADJ,EAEI,CAFJ,EAGI,CAHJ,EAIIJ,MAAM,CAACxH,KAJX,EAKIwH,MAAM,CAAC1F,MALX;AAOA,UAAM+F,OAAO,GAAGL,MAAM,CAACM,SAAP,EAAhB;AACAN,IAAAA,MAAM,CAACxH,KAAP,GAAe,CAAf;AACAwH,IAAAA,MAAM,CAAC1F,MAAP,GAAgB,CAAhB;AACA,UAAMiG,aAAa,GAAG,CAAC,GAAGzD,SAAJ,CAAtB;AACAyD,IAAAA,aAAa,CAACC,IAAd,CAAmB;AACfC,MAAAA,IAAI,EAAE5C,SAAS,CAACM,OAAV,CAAkBE,cAAlB,EADS;AAEfpF,MAAAA,OAAO,EAAEuC,MAAM,CAACqC,SAAS,CAACM,OAAV,CAAkBE,cAAlB,EAAD,CAFA;AAGfqC,MAAAA,KAAK,EAAEL;AAHQ,KAAnB;AAKAtD,IAAAA,YAAY,CAACwD,aAAD,CAAZ;AACH,GAvBD;;AAyBA,QAAMI,WAAW,GACb9C,SAAS,IAAIA,SAAS,CAACM,OAAvB,GACMN,SAAS,CAACM,OAAV,CAAkBE,cAAlB,EADN,GAEM,OAHV;AAKA,QAAMb,QAAQ,GACVK,SAAS,IAAIA,SAAS,CAACM,OAAvB,GAAiCN,SAAS,CAACM,OAAV,CAAkByC,WAAlB,EAAjC,GAAmE,OADvE;AAEA,QAAMC,WAAW,GACbjE,iBAAiB,IAAI,QAArB,GACMpB,MAAM,CAACmF,WAAD,CADZ,GAEO,IAAGnF,MAAM,CAACgC,QAAQ,GAAGmD,WAAZ,CAAyB,EAH7C;AAKA,QAAMG,aAAa,GAAGtF,MAAM,CAACgC,QAAD,CAA5B;AAEA,sBACI;AAAA,4BACI;AAAK,MAAA,QAAQ,EAAC,OAAd;AAAA,6BACI;AAAA,+BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAMI;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI,QAAC,SAAD;AAAW,MAAA,QAAQ,EAAC,IAApB;AAAA,8BACI;AACI,QAAA,WAAW,EAAEiC,eADjB;AAEI,QAAA,YAAY,EAAEC,gBAFlB;AAGI,QAAA,GAAG,EAAE5B,kBAHT;AAII,QAAA,SAAS,EAAEvB,OAAO,CAAChE,aAJvB;AAAA,gCAMI,QAAC,WAAD;AACI,UAAA,GAAG,EAAEsF,SADT;AAEI,UAAA,KAAK,EAAC,MAFV;AAGI,UAAA,MAAM,EAAC,MAHX;AAII,UAAA,GAAG,EAAC,qFAJR;AAKI,UAAA,GAAG,EAAEX,GALT;AAMI,UAAA,OAAO,EAAEC,OANb;AAOI,UAAA,QAAQ,EAAE,KAPd;AAQI,UAAA,KAAK,EAAEE,KARX;AASI,UAAA,IAAI,EAAEM,IATV;AAUI,UAAA,YAAY,EAAEF,YAVlB;AAWI,UAAA,MAAM,EAAEC,MAXZ;AAYI,UAAA,KAAK,EAAEJ,KAZX;AAaI,UAAA,UAAU,EAAEiB,cAbhB;AAcI,UAAA,MAAM,EAAE;AACJwC,YAAAA,IAAI,EAAE;AACFC,cAAAA,UAAU,EAAE;AACRC,gBAAAA,WAAW,EAAE;AADL;AADV;AADF;AAdZ;AAAA;AAAA;AAAA;AAAA,gBANJ,eA6BI,QAAC,QAAD;AACI,UAAA,GAAG,EAAElD,WADT;AAEI,UAAA,MAAM,EAAEW,gBAFZ;AAGI,UAAA,eAAe,EAAEM,mBAHrB;AAII,UAAA,aAAa,EAAEC,iBAJnB;AAKI,UAAA,UAAU,EAAEE,cALhB;AAMI,UAAA,QAAQ,EAAEjB,YANd;AAOI,UAAA,WAAW,EAAED,eAPjB;AAQI,UAAA,aAAa,EAAEK,iBARnB;AASI,UAAA,OAAO,EAAEnB,OATb;AAUI,UAAA,MAAM,EAAEI,MAVZ;AAWI,UAAA,WAAW,EAAEsD,WAXjB;AAYI,UAAA,aAAa,EAAEC,aAZnB;AAaI,UAAA,MAAM,EAAEhB,UAbZ;AAcI,UAAA,KAAK,EAAExC,KAdX;AAeI,UAAA,cAAc,EAAE+B,kBAfpB;AAgBI,UAAA,gBAAgB,EAAED,oBAhBtB;AAiBI,UAAA,oBAAoB,EAAEO,mBAjB1B;AAkBI,UAAA,YAAY,EAAElC,YAlBlB;AAmBI,UAAA,oBAAoB,EAAEmC,kBAnB1B;AAoBI,UAAA,kBAAkB,EAAEN,gBApBxB;AAqBI,UAAA,MAAM,EAAE5B,MArBZ;AAsBI,UAAA,UAAU,EAAEqC;AAtBhB;AAAA;AAAA;AAAA;AAAA,gBA7BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAwDI,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,KAAK,EAAE;AAAErF,UAAAA,SAAS,EAAE;AAAb,SAAvB;AAA0C,QAAA,OAAO,EAAE,CAAnD;AAAA,kBACKoC,SAAS,CAACoE,GAAV,CAAc,CAACC,QAAD,EAAWC,KAAX,kBACX,QAAC,IAAD;AAAkB,UAAA,IAAI,MAAtB;AAAA,iCACI,QAAC,KAAD;AACI,YAAA,OAAO,EAAE,MAAM;AACXvD,cAAAA,SAAS,CAACM,OAAV,CAAkBC,MAAlB,CAAyB+C,QAAQ,CAACV,IAAlC;AACA1C,cAAAA,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,GAAuC,SAAvC;AAEA0I,cAAAA,UAAU,CAAC,MAAM;AACbtD,gBAAAA,WAAW,CAACI,OAAZ,CAAoBM,KAApB,CAA0B9F,UAA1B,GAAuC,QAAvC;AACH,eAFS,EAEP,IAFO,CAAV;AAGH,aARL;AASI,YAAA,SAAS,EAAE,CATf;AAAA,oCAWI;AAAK,cAAA,WAAW,EAAC,WAAjB;AAA6B,cAAA,GAAG,EAAEwI,QAAQ,CAACT;AAA3C;AAAA;AAAA;AAAA;AAAA,oBAXJ,eAYI;AAAK,cAAA,OAAO,EAAC,OAAb;AAAqB,cAAA,KAAK,EAAC,QAA3B;AAAA,yCACiBS,QAAQ,CAAClI,OAD1B;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,WAAWmI,KAAX;AAAA;AAAA;AAAA;AAAA,gBADH;AADL;AAAA;AAAA;AAAA;AAAA,cAxDJ,eA8EI;AAAQ,QAAA,GAAG,EAAEpD;AAAb;AAAA;AAAA;AAAA;AAAA,cA9EJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA,kBADJ;AA0FH;;GA/PQ1B,W;UACWlE,S;;;MADXkE,W;AAiQT,eAAeA,WAAf","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { findDOMNode } from \"react-dom\";\n\n// import div from \"@material-ui/core/div\";\n// import div from \"@material-ui/core/div\";\n// import div from \"@material-ui/core/div\";\n// import Container from \"@material-ui/core/Container\";\nimport ReactPlayer from \"react-player\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n\n// import Slider from \"@material-ui/core/Slider\";\n// import Tooltip from \"@material-ui/core/Tooltip\";\n// import Grid from \"@material-ui/core/Grid\";\n// import Paper from \"@material-ui/core/Paper\";\n// import VolumeUp from \"@material-ui/icons/VolumeUp\";\n// import VolumeDown from \"@material-ui/icons/VolumeDown\";\n// import VolumeMute from \"@material-ui/icons/VolumeOff\";\n// import FullScreen from \"@material-ui/icons/Fullscreen\";\n// import Popover from \"@material-ui/core/Popover\";\n// import screenful from \"screenfull\";\nimport Controls from \"./Controls\";\n\nconst useStyles = makeStyles((theme) => ({\n    playerWrapper: {\n        width: \"100%\",\n\n        position: \"relative\",\n        // \"&:hover\": {\n        //   \"& $controlsWrapper\": {\n        //     visibility: \"visible\",\n        //   },\n        // },\n    },\n\n    controlsWrapper: {\n        visibility: \"hidden\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: \"rgba(0,0,0,0.4)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n    },\n    topControls: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        padding: theme.spacing(2),\n    },\n    middleControls: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    bottomWrapper: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        // background: \"rgba(0,0,0,0.6)\",\n        // height: 60,\n        padding: theme.spacing(2),\n    },\n\n    bottomControls: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        // height:40,\n    },\n\n    button: {\n        margin: theme.spacing(1),\n    },\n    controlIcons: {\n        color: \"#777\",\n\n        fontSize: 50,\n        transform: \"scale(0.9)\",\n        \"&:hover\": {\n            color: \"#fff\",\n            transform: \"scale(1)\",\n        },\n    },\n\n    bottomIcons: {\n        color: \"#999\",\n        \"&:hover\": {\n            color: \"#fff\",\n        },\n    },\n\n    volumeSlider: {\n        width: 100,\n    },\n}));\n\nconst PrettoSlider = withStyles({\n    root: {\n        height: 8,\n    },\n    thumb: {\n        height: 24,\n        width: 24,\n        backgroundColor: \"#fff\",\n        border: \"2px solid currentColor\",\n        marginTop: -8,\n        marginLeft: -12,\n        \"&:focus, &:hover, &$active\": {\n            boxShadow: \"inherit\",\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: \"calc(-50% + 4px)\",\n    },\n    track: {\n        height: 8,\n        borderRadius: 4,\n    },\n    rail: {\n        height: 8,\n        borderRadius: 4,\n    },\n})(Slider);\n\nfunction ValueLabelComponent(props) {\n    const { children, open, value } = props;\n\n    return (\n        <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\n            {children}\n        </Tooltip>\n    );\n}\n\nconst format = (seconds) => {\n    if (isNaN(seconds)) {\n        return `00:00`;\n    }\n    const date = new Date(seconds * 1000);\n    const hh = date.getUTCHours();\n    const mm = date.getUTCMinutes();\n    const ss = date.getUTCSeconds().toString().padStart(2, \"0\");\n    if (hh) {\n        return `${hh}:${mm.toString().padStart(2, \"0\")}:${ss}`;\n    }\n    return `${mm}:${ss}`;\n};\n\nlet count = 0;\n\nfunction MusicPlayer() {\n    const classes = useStyles();\n    const [showControls, setShowControls] = useState(false);\n    // const [count, setCount] = useState(0);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [timeDisplayFormat, setTimeDisplayFormat] = React.useState(\"normal\");\n    const [bookmarks, setBookmarks] = useState([]);\n    const [state, setState] = useState({\n        pip: false,\n        playing: true,\n        controls: false,\n        light: false,\n\n        muted: true,\n        played: 0,\n        duration: 0,\n        playbackRate: 1.0,\n        volume: 1,\n        loop: false,\n        seeking: false,\n    });\n\n    const playerRef = useRef(null);\n    const playerContainerRef = useRef(null);\n    const controlsRef = useRef(null);\n    const canvasRef = useRef(null);\n    const {\n        playing,\n        controls,\n        light,\n\n        muted,\n        loop,\n        playbackRate,\n        pip,\n        played,\n        seeking,\n        volume,\n    } = state;\n\n    const handlePlayPause = () => {\n        setState({ ...state, playing: !state.playing });\n    };\n\n    const handleRewind = () => {\n        playerRef.current.seekTo(playerRef.current.getCurrentTime() - 10);\n    };\n\n    const handleFastForward = () => {\n        playerRef.current.seekTo(playerRef.current.getCurrentTime() + 10);\n    };\n\n    const handleProgress = (changeState) => {\n        if (count > 3) {\n            controlsRef.current.style.visibility = \"hidden\";\n            count = 0;\n        }\n        if (controlsRef.current.style.visibility == \"visible\") {\n            count += 1;\n        }\n        if (!state.seeking) {\n            setState({ ...state, ...changeState });\n        }\n    };\n\n    const handleSeekChange = (e, newValue) => {\n        console.log({ newValue });\n        setState({ ...state, played: parseFloat(newValue / 100) });\n    };\n\n    const handleSeekMouseDown = (e) => {\n        setState({ ...state, seeking: true });\n    };\n\n    const handleSeekMouseUp = (e, newValue) => {\n        console.log({ value: e.target });\n        setState({ ...state, seeking: false });\n        // console.log(sliderRef.current.value)\n        playerRef.current.seekTo(newValue / 100, \"fraction\");\n    };\n\n    const handleDuration = (duration) => {\n        setState({ ...state, duration });\n    };\n\n    const handleVolumeSeekDown = (e, newValue) => {\n        setState({ ...state, seeking: false, volume: parseFloat(newValue / 100) });\n    };\n    const handleVolumeChange = (e, newValue) => {\n        // console.log(newValue);\n        setState({\n            ...state,\n            volume: parseFloat(newValue / 100),\n            muted: newValue === 0 ? true : false,\n        });\n    };\n\n    const toggleFullScreen = () => {\n        screenful.toggle(playerContainerRef.current);\n    };\n\n    const handleMouseMove = () => {\n        console.log(\"mousemove\");\n        controlsRef.current.style.visibility = \"visible\";\n        count = 0;\n    };\n\n    const hanldeMouseLeave = () => {\n        controlsRef.current.style.visibility = \"hidden\";\n        count = 0;\n    };\n\n    const handleDisplayFormat = () => {\n        setTimeDisplayFormat(\n            timeDisplayFormat == \"normal\" ? \"remaining\" : \"normal\"\n        );\n    };\n\n    const handlePlaybackRate = (rate) => {\n        setState({ ...state, playbackRate: rate });\n    };\n\n    const hanldeMute = () => {\n        setState({ ...state, muted: !state.muted });\n    };\n\n    const addBookmark = () => {\n        const canvas = canvasRef.current;\n        canvas.width = 160;\n        canvas.height = 90;\n        const ctx = canvas.getContext(\"2d\");\n\n        ctx.drawImage(\n            playerRef.current.getInternalPlayer(),\n            0,\n            0,\n            canvas.width,\n            canvas.height\n        );\n        const dataUri = canvas.toDataURL();\n        canvas.width = 0;\n        canvas.height = 0;\n        const bookmarksCopy = [...bookmarks];\n        bookmarksCopy.push({\n            time: playerRef.current.getCurrentTime(),\n            display: format(playerRef.current.getCurrentTime()),\n            image: dataUri,\n        });\n        setBookmarks(bookmarksCopy);\n    };\n\n    const currentTime =\n        playerRef && playerRef.current\n            ? playerRef.current.getCurrentTime()\n            : \"00:00\";\n\n    const duration =\n        playerRef && playerRef.current ? playerRef.current.getDuration() : \"00:00\";\n    const elapsedTime =\n        timeDisplayFormat == \"normal\"\n            ? format(currentTime)\n            : `-${format(duration - currentTime)}`;\n\n    const totalDuration = format(duration);\n\n    return (\n        <>\n            <div position=\"fixed\">\n                <div>\n                    <div>React Video Player</div>\n                </div>\n            </div>\n            <div />\n            <Container maxWidth=\"md\">\n                <div\n                    onMouseMove={handleMouseMove}\n                    onMouseLeave={hanldeMouseLeave}\n                    ref={playerContainerRef}\n                    className={classes.playerWrapper}\n                >\n                    <ReactPlayer\n                        ref={playerRef}\n                        width=\"100%\"\n                        height=\"100%\"\n                        url=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\"\n                        pip={pip}\n                        playing={playing}\n                        controls={false}\n                        light={light}\n                        loop={loop}\n                        playbackRate={playbackRate}\n                        volume={volume}\n                        muted={muted}\n                        onProgress={handleProgress}\n                        config={{\n                            file: {\n                                attributes: {\n                                    crossorigin: \"anonymous\",\n                                },\n                            },\n                        }}\n                    />\n\n                    <Controls\n                        ref={controlsRef}\n                        onSeek={handleSeekChange}\n                        onSeekMouseDown={handleSeekMouseDown}\n                        onSeekMouseUp={handleSeekMouseUp}\n                        onDuration={handleDuration}\n                        onRewind={handleRewind}\n                        onPlayPause={handlePlayPause}\n                        onFastForward={handleFastForward}\n                        playing={playing}\n                        played={played}\n                        elapsedTime={elapsedTime}\n                        totalDuration={totalDuration}\n                        onMute={hanldeMute}\n                        muted={muted}\n                        onVolumeChange={handleVolumeChange}\n                        onVolumeSeekDown={handleVolumeSeekDown}\n                        onChangeDispayFormat={handleDisplayFormat}\n                        playbackRate={playbackRate}\n                        onPlaybackRateChange={handlePlaybackRate}\n                        onToggleFullScreen={toggleFullScreen}\n                        volume={volume}\n                        onBookmark={addBookmark}\n                    />\n                </div>\n\n                <Grid container style={{ marginTop: 20 }} spacing={3}>\n                    {bookmarks.map((bookmark, index) => (\n                        <Grid key={index} item>\n                            <Paper\n                                onClick={() => {\n                                    playerRef.current.seekTo(bookmark.time);\n                                    controlsRef.current.style.visibility = \"visible\";\n\n                                    setTimeout(() => {\n                                        controlsRef.current.style.visibility = \"hidden\";\n                                    }, 1000);\n                                }}\n                                elevation={3}\n                            >\n                                <img crossOrigin=\"anonymous\" src={bookmark.image} />\n                                <div variant=\"body2\" align=\"center\">\n                                    bookmark at {bookmark.display}\n                                </div>\n                            </Paper>\n                        </Grid>\n                    ))}\n                </Grid>\n                <canvas ref={canvasRef} />\n            </Container>\n        </>\n    );\n}\n\nexport default MusicPlayer;"]},"metadata":{},"sourceType":"module"}