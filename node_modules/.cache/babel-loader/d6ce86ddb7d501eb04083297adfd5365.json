{"ast":null,"code":"import _slicedToArray from\"/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Container,Row,Col}from\"react-bootstrap\";import{useSelector,useDispatch}from'react-redux';import{v4 as uuidv4}from'uuid';import{postComments}from'../../redux/actions';import{format}from'date-fns';import{SiGooglemessages}from\"react-icons/si\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentInput=function CommentInput(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var dispatch=useDispatch();var currentLoginUser=useSelector(function(state){return state.users.getcurrentuser;});var fetchAllComments=useSelector(function(state){return state.posts.all_comments;});var postId=useSelector(function(state){return state.posts.post_id;});// console.log(postId)\nvar handleInputChange=function handleInputChange(e){setMessage(e.target.value);};var ID=uuidv4();var currentDate=format(new Date(),'HH:mm b');// yyyy-MM-dd, \nvar currentUserComment={id:ID,post_Id:postId,commentText:message,createdAt:currentDate,user:currentLoginUser};useEffect(function(){},[fetchAllComments.length]);var handleAddComments=function handleAddComments(){setMessage('');dispatch(postComments(currentUserComment));};var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();console.log(e.keyCode===13);if(e.keyCode===13){dispatch(postComments(currentUserComment));setMessage('');}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\" justify-center mx-auto border-grey-100  rounded-2xl border-gray-600 drop-shadow-2xl hover:border-green-900 shadow-2xl\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){return handleAddComments(e);},children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-1\",controlId:\"exampleForm.ControlTextarea1\",children:/*#__PURE__*/_jsx(Form.Control,{className:\"text-area rounded-full\",as:\"textarea\",placeholder:\"add comment\",rows:4,value:message,onChange:function onChange(e){return handleInputChange(e);},onKeyUp:function onKeyUp(e){return handleOnSubmit(e);}})})}),/*#__PURE__*/_jsx(Row,{className:\"w-20 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return handleAddComments(e);},className:\"mx-1 mt-1 text-center text-light text-xl m-2  rounded \",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center flex justify-center align-items-center text-black cursor-pointer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl text-gray-600 mx-2  \",children:/*#__PURE__*/_jsx(SiGooglemessages,{})})})})})})]})})});};export default CommentInput;","map":{"version":3,"sources":["/Users/emmanuelakhereiyere/Desktop/Strive/Spice-App--React-Redux/src/components/Feeds/CommentInput.jsx"],"names":["React","useState","useEffect","Form","Container","Row","Col","useSelector","useDispatch","v4","uuidv4","postComments","format","SiGooglemessages","CommentInput","message","setMessage","dispatch","currentLoginUser","state","users","getcurrentuser","fetchAllComments","posts","all_comments","postId","post_id","handleInputChange","e","target","value","ID","currentDate","Date","currentUserComment","id","post_Id","commentText","createdAt","user","length","handleAddComments","handleOnSubmit","preventDefault","console","log","keyCode"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Form, Container, Row, Col } from \"react-bootstrap\"\nimport { useSelector, useDispatch } from 'react-redux'\nimport { v4 as uuidv4 } from 'uuid';\nimport { postComments } from '../../redux/actions'\nimport { format } from 'date-fns'\nimport { SiGooglemessages } from \"react-icons/si\";\n\n\n\n\n\nconst CommentInput = () => {\n\n    const [message, setMessage] = useState('')\n\n\n\n    const dispatch = useDispatch()\n    const currentLoginUser = useSelector(state => state.users.getcurrentuser)\n    const fetchAllComments = useSelector(state => state.posts.all_comments)\n    const postId = useSelector(state => state.posts.post_id)\n    // console.log(postId)\n\n    const handleInputChange = (e) => {\n        setMessage(e.target.value)\n    }\n    const ID = uuidv4()\n    const currentDate = format(new Date(), 'HH:mm b')\n    // yyyy-MM-dd, \n\n    const currentUserComment = {\n        id: ID,\n        post_Id: postId,\n        commentText: message,\n        createdAt: currentDate,\n        user: currentLoginUser\n    }\n\n\n\n    useEffect(() => {\n\n    }, [fetchAllComments.length])\n\n\n    const handleAddComments = () => {\n\n        setMessage('')\n        dispatch(postComments(currentUserComment))\n    }\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault()\n        console.log(e.keyCode === 13)\n        if (e.keyCode === 13) {\n            dispatch(postComments(currentUserComment))\n            setMessage('')\n\n        }\n    }\n\n\n    return (\n        <div>\n            <Container fluid className=\" justify-center mx-auto border-grey-100  rounded-2xl border-gray-600 drop-shadow-2xl hover:border-green-900 shadow-2xl\" >\n\n                <Form onSubmit={(e) => handleAddComments(e)} >\n                    <Row>\n                        <Form.Group\n                            className=\"mb-1\"\n                            controlId=\"exampleForm.ControlTextarea1\"\n                        >\n                            <Form.Control\n                                className=\"text-area rounded-full\"\n                                as=\"textarea\"\n                                placeholder=\"add comment\"\n                                rows={4}\n                                value={message}\n                                onChange={(e) => handleInputChange(e)}\n                                onKeyUp={(e) => handleOnSubmit(e)}\n                            />\n                        </Form.Group>\n                    </Row>\n\n                    <Row className='w-20 mx-auto'>\n                        <div onClick={(e) => handleAddComments(e)} className=\"mx-1 mt-1 text-center text-light text-xl m-2  rounded \">\n                            <Col>\n                                <span className=\"text-center flex justify-center align-items-center text-black cursor-pointer\">\n                                    {/* <span className=\"mx-2  text-lg\"> send</span> */}\n                                    <div className=\"text-3xl text-gray-600 mx-2  \"><SiGooglemessages /></div>\n                                </span>\n                            </Col>\n                        </div>\n\n                    </Row>\n\n                </Form>\n            </Container >\n        </div >\n    )\n}\n\nexport default CommentInput\n"]},"metadata":{},"sourceType":"module"}